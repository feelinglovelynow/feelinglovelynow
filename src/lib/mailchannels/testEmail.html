<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Email</title>
  <style>
    body, html { margin: 0; padding: 0;}
  </style>
  <script type="module">
    const orderId = '9adc25d5-5ce2-4256'
    const name = 'Chris Carrington'
    const addressLine1 = '1 Main St'
    const addressLine2 = '#342'
    const city = 'San Jose'
    const state = 'CA'
    const zip = '95131'
    const country = 'US'
    const subTotal = { str: '10.99' }
    const shipping = { str: '10.99' }
    const salesTax = { str: '10.99' }
    const totalPrice = { str: '10.99' }
    const cart = [
      {
        size: 'L',
        quantity: 1,
        product: {
          price: 27,
          src: 'https://feelinglovelynow.com/_app/immutable/assets/0xfffd8d6ad3a1adee.7dc97289.webp',
          name: "100% Organic Cotton ‚ãÖ Gold Metatron's Cube + Fruit of Life Embroidery ‚ãÖ Men's T-Shirt ‚ãÖ Black - L",
        }
      },
      {
        quantity: 2,
        product: {
          price: 12,
          src: 'https://feelinglovelynow.com/_app/immutable/assets/0xfffd8d6ad3a1adec.b0e824f6.webp',
          name: "How to Get High",
        }
      },
      {
        size: 'M',
        quantity: 3,
        product: {
          price: 24,
          src: 'https://feelinglovelynow.com/_app/immutable/assets/0xfffd8d6ad3a1ea06.4c2d8b6d.webp',
          name: "100% Organic Cotton ‚ãÖ Gold Metatron's Cube + Fruit of Life Embroidery ‚ãÖ Women's T-Shirt ‚ãÖ White",
        }
      }
    ]

    let orderItemsHtml = ''

    for (const orderItem of cart) {
      orderItemsHtml += getOrderItemHtml(orderItem)
    }

    const html = `
      <div style="padding: 18px 18px 27px 18px; font-size: 16px; font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif;">
        <div style="max-width: 444px; width: 100%; margin: 0 auto;">
          <div>
            <img src="https://raw.githubusercontent.com/feelinglovelynow/feelinglovelynow/main/src/lib/img/email/IMG_EMAIL_HEAD.png" alt="logo" />
          </div>
          <div style="color: #273142; font-weight: 600; font-size: 18px; margin-bottom: 3px;">üôè Thanks ${ name }!</div>
          <div style="color: #273142; margin-bottom: 12px; padding-bottom: 15px; line-height: 1.45; border-bottom: 1px solid rgba(206, 211, 214, 0.6);">Please feel free to reply to this email if you would love to contact us about your order! The day we ship your items, is the day we will email you the shipping tracking information!</div>

          <table style="margin-bottom: 15px; padding-bottom: 12px; width: 100%; border-bottom: 1px solid rgba(206, 211, 214, 0.6);">
            <tr>
              <td>
                <div style="color: #273142; font-weight: 600; font-size: 18px; margin-bottom: 3px;">Order ID</div>
                <div style="color: #273142; line-height: 1.45;">${ orderId }</div>
              </td>
              <td style="text-align: right; padding-left: 9px;">
                <img style="width: 100%; max-width: 99px;" src="https://raw.githubusercontent.com/feelinglovelynow/feelinglovelynow/main/src/lib/sacred/IMG_FLOWER_CIRCLE.png" />
              </td>
            </tr>
          </table>

          <table style="margin-bottom: 18px; width: 100%; border-bottom: 1px solid rgba(206, 211, 214, 0.6); padding-bottom: 12px;">
            <tr>
              <td>
                <div style="color: #273142; font-weight: 600; font-size: 18px; margin-bottom: 3px;">Shipping Address</div>
                <div style="color: #273142; line-height: 1.45;">
                  <div>${ name }</div>
                  <div>${ addressLine1 } ${ addressLine2 || '' }</div>
                  <div>${ city }, ${ state }, ${ country } ${ zip }</div>
                </div>
              </td>
              <td style="text-align: right; padding-left: 9px;">
                <img style="color: #273142; width: 100%; max-width: 99px;" src="https://raw.githubusercontent.com/feelinglovelynow/feelinglovelynow/main/src/lib/sacred/IMG_FRUIT_METATRON.png" />
              </td>
            </tr>
          </table>

          <table style="margin-bottom: 18px; width: 100%; border-bottom: 1px solid rgba(206, 211, 214, 0.6); padding-bottom: 12px;">
            <tr>
              <td>
                <div style="color: #273142; font-weight: 600; font-size: 18px; margin-bottom: 3px;">Pricing Details</div>
                <div style="color: #273142; line-height: 1.45;">
                  <div>Sub Total: $${ subTotal.str}</div>
                  <div>Shipping: $${shipping.str}</div>
                  <div>Sales Tax: $${salesTax.str}</div>
                  <div style="font-weight: 500;">Total: $${totalPrice.str } USD</div>
                </div>
              </td>
              <td style="text-align: right; padding-left: 9px;">
                <img style="width: 100%; max-width: 99px;" src="https://raw.githubusercontent.com/feelinglovelynow/feelinglovelynow/main/src/lib/sacred/IMG_LOTUS.png" />
              </td>
            </tr>
          </table>

          <div style="color: #273142; font-weight: 600; font-size: 18px; margin-bottom: 3px;">Purchased Products</div>
          ${ orderItemsHtml }
          <div style="color: #273142; width: 100%; text-align: right;">- Hakuna Matata</div>
        </div>
      </div>
    `

    function getOrderItemHtml (cartItem) {
      return `
        <table style="width: 100%; margin-bottom: 15px;">
          <tr>
            <td style="width: 126px; height: 126px; text-align: center; vertical-align: top;">
              <img style="color: #273142; height: 100%; max-height: 126px;" src="${ cartItem.product.src }" alt="${ cartItem.product.name }">
            </td>
            <td style="padding: 3px 0 0 9px; vertical-align: top;">
              <div style="color: #273142; font-weight: 600; margin-bottom: 3px;">${ cartItem.product.name }</div>
              <div style="color: #273142; margin-bottom: 3px;">Quantity: ${ cartItem.quantity }</div>
              ${ cartItem.size ? '<div style="color: #273142;">Size: ' + cartItem.size + '</div>' : '' }
            </td>
          </tr>
        </table>
      `
    }

    document.getElementById('content').insertAdjacentHTML('beforeend', html)
  </script>
</head>
<body>
  <div id="content"></div>
</body>
</html>
